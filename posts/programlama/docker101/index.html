<!doctype html><html lang=en><head><title>Docker101 :: Blog.</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Docker, uygulamalarınızı konteynırlar içerisine alarak, her koşulda istenildiği gibi çalışmalarını sağlayan bir araçtır. Peki Docker bunu nasıl sağlar? Docker ile nasıl cross-platform bir uygulama geliştirebiliriz? Benimle kal, mevzu oldukça basit.
Giriş Öncelikle https://docs.docker.com/get-docker/ sayfası üzerinden Docker&amp;rsquo;ı edinmemiz gerek. Bu işlem tüm işletim sistemlerinde farklı olduğu için burada değinemiyorum fakat bize Docker Engine veya Docker Desktop gerekli (bu yazıda Docker Compose&amp;rsquo;dan bahsetmeyeceğim, bu yüzden kendisine ihtiyacımız yok). Kurulumu tamamladıktan sonra sıradaki aşamaya geçebiliriz."><meta name=keywords content="docker,container,cross-platform,programlama"><meta name=robots content="noodp"><link rel=canonical href=https://personinblack.github.io/blog/posts/programlama/docker101/><link rel=stylesheet href=https://personinblack.github.io/blog/css/style.min.css><link rel=stylesheet href=https://personinblack.github.io/blog/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://personinblack.github.io/blog/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://personinblack.github.io/blog/img/favicon.png><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker101"><meta name=twitter:description content="Docker, uygulamalarınızı konteynırlar içerisine alarak, her koşulda istenildiği gibi
çalışmalarını sağlayan bir araçtır. Peki Docker bunu nasıl sağlar? Docker ile nasıl
cross-platform bir uygulama geliştirebiliriz? Benimle kal, mevzu oldukça basit."><meta property="og:title" content="Docker101"><meta property="og:description" content="Docker, uygulamalarınızı konteynırlar içerisine alarak, her koşulda istenildiği gibi
çalışmalarını sağlayan bir araçtır. Peki Docker bunu nasıl sağlar? Docker ile nasıl
cross-platform bir uygulama geliştirebiliriz? Benimle kal, mevzu oldukça basit."><meta property="og:type" content="article"><meta property="og:url" content="https://personinblack.github.io/blog/posts/programlama/docker101/"><meta property="article:published_time" content="2020-04-08T17:08:07+03:00"><meta property="article:modified_time" content="2020-04-08T17:08:07+03:00"><meta property="og:site_name" content="Blog."></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>blackness</span>
<span class=logo__cursor></span></a><span class=header__right><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41C32.4934 41 41 32.4934 41 22 41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=post><h1 class=post-title><a href=https://personinblack.github.io/blog/posts/programlama/docker101/>Docker101</a></h1><div class=post-meta><span class=post-date>2020-04-08</span>
<span class=post-author>—  personinblack &lt;berkay@tuta.io></span>
<span class=post-read-time>— 5 dakikada okursun</span></div><span class=post-tags>#<a href=https://personinblack.github.io/blog/tags/programlama/>programlama</a>&nbsp;</span><figure class=post-cover><img src=https://personinblack.github.io/blog/programlama.docker101.jpeg alt=Docker101></figure><div class=post-content><p>Docker, uygulamalarınızı konteynırlar içerisine alarak, her koşulda istenildiği gibi
çalışmalarını sağlayan bir araçtır. Peki Docker bunu nasıl sağlar? Docker ile nasıl
cross-platform bir uygulama geliştirebiliriz? Benimle kal, mevzu oldukça basit.</p><h4 id=giriş>Giriş</h4><p>Öncelikle <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a> sayfası üzerinden Docker&rsquo;ı edinmemiz gerek.
Bu işlem tüm işletim sistemlerinde farklı olduğu için burada değinemiyorum fakat bize
<strong>Docker Engine</strong> veya <strong>Docker Desktop</strong> gerekli (<em>bu yazıda Docker Compose&rsquo;dan
bahsetmeyeceğim, bu yüzden kendisine ihtiyacımız yok</em>). Kurulumu tamamladıktan sonra
sıradaki aşamaya geçebiliriz.</p><blockquote><p><em>Not: <code>docker --version</code> komutu ile kurulumun başarılı olduğundan emin olabilirsin.</em></p></blockquote><h4 id=başlangıç>Başlangıç</h4><p>Bu blog yazısı için beraber basit bir Node.js projesi oluşturacağız, fakat yazıyı takip
edebilmek için Node.js veya JavaScript bilmen gerekmiyor.</p><p>Projemiz için birkaç dizin oluşturarak işe koyulalım: <code>mkdir ~/projects/dockertut && cd ~/projects/dockertut</code></p><p>Ardından şu ufak Node.js kodunu <em>app.js</em> isminde bir dosya olarak kaydedelim. Bu bizim
basit uygulamamız olsun:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>http</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;http&#39;</span>);
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fs</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;fs&#39;</span>);
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>path</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;path&#39;</span>);

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>hostname</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;127.0.0.1&#39;</span>;
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>port</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>80</span>;
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>INDEX_FILE</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;data/index.txt&#39;</span>;

<span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>mkdirSync</span>(<span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>dirname</span>(<span style=color:#a6e22e>INDEX_FILE</span>), (<span style=color:#a6e22e>err</span>) =&gt; {});

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>server</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>createServer</span>((<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; {
  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>statusCode</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>;
  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>setHeader</span>(<span style=color:#e6db74>&#39;Content-Type&#39;</span>, <span style=color:#e6db74>&#39;text/plain&#39;</span>);

  <span style=color:#75715e>// INDEX_FILE&#39;dan indexi al
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>existsSync</span>(<span style=color:#a6e22e>INDEX_FILE</span>) <span style=color:#f92672>?</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>readFileSync</span>(<span style=color:#a6e22e>INDEX_FILE</span>) <span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>;

  <span style=color:#75715e>// Mevcut indexi kullanıcıya göster
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>end</span>(<span style=color:#e6db74>`Index: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>index</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);

  <span style=color:#75715e>// Indexe bir ekleyip INDEX_FILE&#39;a kaydet
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>writeFile</span>(<span style=color:#a6e22e>INDEX_FILE</span>, <span style=color:#f92672>++</span><span style=color:#a6e22e>index</span>, (<span style=color:#a6e22e>_</span>)=&gt;{});
});

<span style=color:#a6e22e>server</span>.<span style=color:#a6e22e>listen</span>(<span style=color:#a6e22e>port</span>, <span style=color:#a6e22e>hostname</span>, () =&gt; {
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Server running at http://</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>hostname</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>port</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/`</span>);
});
</code></pre></div><p>Docker konteynırları; <em>imajlar (image)</em>, <em>ağlar (network)</em> ve <em>volumelardan (saklama
alanları)</em> oluşurlar. İmajlar bir konteynırın hangi içerikle üretileceğini belirlememizi
sağlar. Örneğin biz bu örnekte kendi imajımızı oluştururken Node.js&rsquo;in <em>Alpine Linux</em> ile
birlikte gelen Docker imajını kullanacağız. Bu imaj ile birlikte hazır bir Alpine Linux
kurulumu ve beraberinde gelen Node.js paketi kullanımımıza hazır olacak.</p><h4 id=dockerfile>Dockerfile</h4><p>İmajlar, <em>Dockerfile</em> isimli bir dosyadan aldıkları talimatlar doğrultusunda
oluşturulurlar. <code>touch Dockerfile</code> diyerek bir tane oluşturduktan sonra, kendisini metin
editörümüz ile düzenlemeye başlayalım.</p><p>Bizim imajımız başka bir imajın bir nevi uzantısı olacak. Dockerfile&rsquo;ımızın ilk
satırında bu imajı belirtmemiz gerekiyor ki, sonraki adımlara geçtiğimizde elimizde
üzerinde çalışabileceğimiz bir sistem olsun. Bunun için de [FROM]
(<a href=https://docs.docker.com/engine/reference/builder#from>https://docs.docker.com/engine/reference/builder#from</a>) direktifini kullanıyoruz:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Dockerfile data-lang=Dockerfile><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> node:13-alpine</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Sırada uygulamamızı konteynırın içerisine taşımak var. Kendisinin ebediyen barınacağı
dizine gittikten sonra, <em>app.js</em> dosyasını yerel makineden konteynıra aktaralım:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Dockerfile data-lang=Dockerfile><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> node:13-alpine</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /appdir</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> app.js ./<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p><a href=https://docs.docker.com/engine/reference/builder#workdir>WORKDIR</a> direktifi ile
mevcut çalışma dizinimizi değiştiriyoruz. <em>/appdir</em> adında bir klasör var olmasa dahi
<em>WORKDIR</em> bizim için bu klasörü oluşturacak. Devamında [COPY]
(<a href=https://docs.docker.com/engine/reference/builder#copy>https://docs.docker.com/engine/reference/builder#copy</a>) ile dosyayı yerelden alıp
konteynırdaki çalışma dizinimize yerleştiriyoruz.</p><p>Uygulamamız <em>80</em> portu üzerinde çalışacak fakat bu port şu anda konteynırın dışından
erişilemez durumda. Portu dışarıdan erişilebilir hale getirmek için [EXPOSE]
(<a href=https://docs.docker.com/engine/reference/builder#expose>https://docs.docker.com/engine/reference/builder#expose</a>) direktifini ekleyelim:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Dockerfile data-lang=Dockerfile><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> node:13-alpine</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /appdir</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> app.js ./<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 80</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Son olarak uygulamamızın konteynır içerisinde hangi komut ile çalışacağını [ENTRYPOINT]
(<a href=https://docs.docker.com/engine/reference/builder#entrypoint>https://docs.docker.com/engine/reference/builder#entrypoint</a>) direktifi ile tanımlayalım:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Dockerfile data-lang=Dockerfile><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> node:13-alpine</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /appdir</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> app.js ./<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 80</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENTRYPOINT</span> [ <span style=color:#e6db74>&#34;node&#34;</span>, <span style=color:#e6db74>&#34;app.js&#34;</span> ]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><blockquote><p><em>ENTRYPOINT</em> direktifi, imajımız <em>çalıştırıldığında</em> hangi komutun gerçekleştirileceğini
belirtmemizi sağlar ve genellikle Dockerfile&rsquo;ın sonunda bulunur. Eğer ki imajın
<em>hazırlığı</em> sırasında komut girmek istersek [RUN]
(<a href=https://docs.docker.com/engine/reference/builder#run>https://docs.docker.com/engine/reference/builder#run</a>) direktifini kullanabiliriz.</p><p><em>Not: Aynı zamanda ENTRYPOINT direktifinin bir alternatifi de olan [CMD]
(<a href=https://docs.docker.com/engine/reference/builder#cmd>https://docs.docker.com/engine/reference/builder#cmd</a>) direktifi, ENTRYPOINT
direktifine argümanlar belirtmek için kullanılabilir. Örneğin uygulamamız opsiyonlar
kabul ediyor olsaydı şunu yapabilirdik:</em></p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Dockerfile data-lang=Dockerfile><span style=color:#66d9ef>ENTRYPOINT</span> [ <span style=color:#e6db74>&#34;node&#34;</span>, <span style=color:#e6db74>&#34;app.js&#34;</span> ]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [ <span style=color:#e6db74>&#34;--option1=true&#34;</span>, <span style=color:#e6db74>&#34;--option2=false&#34;</span> ]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># veya (ENTRYPOINT yerine CMD kullanabiliriz)</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENTRYPOINT</span> [ <span style=color:#e6db74>&#34;node&#34;</span>, <span style=color:#e6db74>&#34;app.js&#34;</span>, <span style=color:#e6db74>&#34;--option1=true&#34;</span>, <span style=color:#e6db74>&#34;--option2=false&#34;</span> ]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># veya (tavsiye edilmez) (yine CMD yerine ENTRYPOINT kullanabiliriz)</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> node app.js --option1<span style=color:#f92672>=</span>true --option2<span style=color:#f92672>=</span>false<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h4 id=build--run>Build && Run!</h4><p>İmajımız builde hazır. <code>docker build -t blackness/docker101 .</code> komutu ile
build edebilir (sondaki nokta Dockerfile&rsquo;ın bulunduğu dizin) ve
<code>docker run -dp 8080:80 blackness/docker101</code> komutu ile de çalıştırabiliriz.</p><p><code>docker run</code> komutuna girdiğimiz [ <code>-d</code>]
(<a href=https://docs.docker.com/engine/reference/run#detached--d>https://docs.docker.com/engine/reference/run#detached--d</a>) parametresi <em>detach</em> anlamına
gelir ve konteynırı arkaplanda çalıştırmamızı sağlar. [ <code>-p yerel:konteynır</code>]
(<a href=https://docs.docker.com/engine/reference/#expose-incoming-ports>https://docs.docker.com/engine/reference/#expose-incoming-ports</a>) parametresi ise
konteynır ve yerel makine arasındaki 2 portu bağlamamız, konteynırın portunu expose
etmemiz için gerekli. Tüm parametreleri görmek istersen <code>docker run --help</code> veya
<code>man docker-run</code> komutlarından birini kullanabilirsin.</p><p>Bu aşamadan sonra tarayıcımız yardımı ile veya <code>curl</code> komutuyla &ldquo;localhost:8080&rdquo;
adresine bağlı uygulamamıza erişebilmemiz gerek. Ama erişemiyoruz? Peki neden? Çünkü
uygulamamız konteynır içerisindeki <em>127.0.0.1</em> adresini (localhost) dinliyor fakat
bu adres konteynır dışarısına yönlendirilmiyor.</p><p>Sorunu çözmek için <em>127.0.0.1</em> değerini <em>0.0.0.0</em> ile değiştirerek Docker&rsquo;ın
konteynırımıza tanımladığı <a href=https://en.wikipedia.org/wiki/Network_interface>arayüz</a> de
dahil tüm arayüzleri tek seferde dinleyebiliriz.</p><p>Pekala gerekli değişikliği yaptık ve imajımızı tekrar çalıştırmak istiyoruz. Bunun
için öncelikle <code>docker ps</code> komutuyla çalışan konteynırımızın ID&rsquo;sini alalım. Ardından
<code>docker kill &lt;Konteynır ID></code> komutuyla kendisini ortadan kaldıralım. Yaptığımız
değişikliğin geçerli olabilmesi için imajımızı aynı komutlar ile yeniden build edelim ve
çalıştıralım.</p><p>Artık uygulamamız çalışıyor ve sayfayı her yenilediğimizde index değerinin arttığını
görebiliyoruz.</p><blockquote><p><em>Not: İmajı yeniden build etmemizin sebebi &ldquo;app.js&rdquo; dosyasına yaptığımız
değişikliklerin imaj içerisindeki &ldquo;app.js&rdquo; dosyasına yansımıyor olmasıdır. Dosyayı
tekrardan imaj içerisine kopyalayarak güncellememiz gerekiyor.</em></p></blockquote><h4 id=konteynırlarda-kalıcı-veri-ve-volumelar>Konteynırlarda Kalıcı Veri ve Volumelar</h4><p>Eğer ki önceki bölümde oluşturduğumuz imajımızı yeniden başlatırsak index değerinin
sıfırlandığını görebiliriz. Bunun sebebi konteynırı yokettiğimizde içerisindeki verilerin
de Docker&rsquo;ın geçici saklama alanından siliniyor olmasıdır. Bu durumu düzeltebilmek için
&ldquo;index.txt&rdquo; dosyasını bir <em>volume</em> içerisinde kalıcı olarak saklamamız gerekiyor.</p><p><a href=https://docs.docker.com/engine/reference/builder#volume>VOLUME</a> direktifini kullanarak
indexi barındıran <em>data</em> klasörünü bir volume&rsquo;a çevirelim:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Dockerfile data-lang=Dockerfile><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> node:13-alpine</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /appdir</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> app.js ./<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>VOLUME</span> [ <span style=color:#e6db74>&#34;/appdir/data&#34;</span> ]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 80</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENTRYPOINT</span> [ <span style=color:#e6db74>&#34;node&#34;</span>, <span style=color:#e6db74>&#34;app.js&#34;</span> ]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p><em>VOLUME</em> direktifimizin bir işe yaraması için volume&rsquo;u bir yere [mount]
(<a href=https://docs.docker.com/storage/volumes/#choose-the--v-or---mount-flag>https://docs.docker.com/storage/volumes/#choose-the--v-or---mount-flag</a>)
etmemiz gerekiyor. Bunun için de imajımızı başlatmak için kullandığımız komutu şu şekilde
değiştirmeliyiz:</p><p><code>docker run -dp 8080:80 -v myvol:/appdir/data blackness/docker101</code></p><p><code>-v</code> / <code>--volume</code> opsiyonu iki argümandan oluşmakta. Docker ilk argümanda belirttiğimiz
isim ile (<em>myvol</em>) aynı isimde bir Docker volume&rsquo;u oluşturduktan sonra bu volume&rsquo;u
ikinci argümanda ve <em>VOLUME</em> direktifinde belirtilen konuma mount ediyor. <em>VOLUME</em>
argümanından <strong>önce</strong> volume konumunda başka bir dosya oluşturmuşsak bu dosya silinmiyor
fakat üzerine mount işlemi gerçekleştirdiğimiz için erişilemez bir hale geliyor. Bundan
dolayı <em>VOLUME</em> direktifini önce belirtip üzerinde gerçekleşecek işlemleri sonrasında
yapmalıyız.</p><h4 id=son>SON</h4><p>Bu belki biraz uzun blog yazısında beraber küçük bir Docker imajı oluşturduk. Umarım
okudukların sana birşeyler katmış ve Docker kullanmaya teşvik etmiştir. Bir sonraki
yazımda belki Docker Compose&rsquo;u anlatabilirim ama anlatmaya da bilirim. Bilemiyorum,
hayatta hiçbir şey kesin değil.</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Başka</span><hr></div><div class=pagination__buttons><span class="button next"><a href=https://personinblack.github.io/blog/posts/android/youtube-dl/><span class=button__text>Android ve youtube-dl</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>blackness</span>
<span class=logo__cursor></span></a><div class=copyright><span>© 2021 Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by <a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script src=https://personinblack.github.io/blog/js/menu.js></script><script src=https://personinblack.github.io/blog/js/theme.js></script><script src=https://personinblack.github.io/blog/js/prism.js></script></div></body></html>